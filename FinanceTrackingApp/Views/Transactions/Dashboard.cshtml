@model FinanceTrackingApp.Models.Responses.DashboardViewResponseModel
@{
    ViewData["Title"] = "Income-Expense Dashboard";
}
<h2>@(ViewData["Title"] ?? "Default Title")</h2>
<div class="container mt-4">
    <div class="row">
        <div class="col-md-6">
            <div class="card shadow-lg">
                <div class="card-header text-center">
                    <h3>Income-Expense Summary</h3>
                </div>
                <div class="card-body d-flex flex-column justify-content-center">
                    <h5>Total Income: @Model.TotalIncome </h5>
                    <h5>Total Expense: @Model.TotalExpense</h5>
                    <hr />
                    <h4>Balance: @Model.Balance</h4>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow-lg">
                <div class="card-header text-center">
                    <h3>Graphical Summary</h3>
                </div>
                <div class="card-body">
                    <canvas id="incomeExpenseChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-4">
        <div class="col-md-12">
            <div class="card shadow-lg">
                <div class="card-header text-center">
                    <h3>Actions</h3>
                </div>
                <div class="card-body text-center">
                    <a class="btn btn-success btn-lg m-2" href="/Transactions/AddIncome">Add Income</a>
                    <a class="btn btn-danger btn-lg m-2" href="/Transactions/AddExpense">Add Expense</a>
                    <a class="btn btn-primary btn-lg m-2" href="/Transactions/IncomeExpenseList">Income-Expense List</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    var ctx = document.getElementById('incomeExpenseChart').getContext('2d');
    var chartData = {
        labels: ['Income', 'Expense'],
        datasets: [{
            backgroundColor: ["#2b5797", "#b91d47"],
            data: [@Model.TotalIncome, @Model.TotalExpense],
        }]
    };

    var incomeExpenseChart = new Chart(ctx, {
        type: 'pie',
        data: chartData,
    });
</script>
